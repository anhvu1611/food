<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../Bootstrap/bootstrap.min.css">
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/popper.min.js"></script>
    <script>
        $(document).ready(function(){
            let i=0
            // open modal
            $('#openModal').click(function(){
                $('#myModal').modal()
            })

            function checkName() {
                let name = $('#name').val()
                let right_name = /^([A-Z]([a-z]{1,}))*(\s[A-Z]([a-z]{0,}))*$/
                let e_name = $('#e_name').val()
                if(name.trim()==""){
                    $('#e_name').html("Vui long nhap ten")
                    return false
                }
                if(!right_name.test(name)){
                    $('#e_name').html("Viet hoa chu cai dau")
                    return false
                }
                $('#e_name').html("*")

                return true
            }
            $('#name').blur(checkName)

            function checkPhone(){
                let phone = $('#phone').val()
                let right_phone = /^[0-9]{10}$/
                let e_phone = $('#e_phone').val()
                if(phone.trim()==''){
                    $('#e_phone').html('Vui long nhap sdt')
                    return false
                }
                if(!right_phone.test(phone)){
                    $('#e_phone').html('Sdt phai gom 10 so')
                    return false
                }
                $('#e_phone').html('*')
                return true
            }
            $('#phone').blur(checkPhone)

            function checkPeople() {
                let people = $('#people').val()
                let right_people = /^[0-9]{1,}$/
                let e_people = $('#e_people').val()
                if(people.trim()==''){
                    $('#e_people').html('Vui long nhap so nguoi')
                    return false
                }
                if(!right_people.test(people)){
                    $('#e_people').html('Phai la so')
                    return false
                }
                if(people<1){
                    $('#e_people').html('Ít nhất là 1')
                    return false
                }
                $('#e_people').html('*')
                return true
            }
            $('#people').blur(checkPeople)

            function checkDay() {
                let day = new Date($('#day').val())
                let today = new Date()
                today.setDate(today.getDate()-1)
                if(day>=today) {
                    $('#e_day').html('Be hon ngay hien tai')
                    return false
                }
                $('#e_day').html('*')
                return true
            }
            $('#day').blur(checkDay)

            function valid(){
                if(!checkName() || !checkPhone() || !checkDay() || !checkPeople() ){
                    return false
                }
                else{
                    var loaiPhong = []
                    if($('#vip').is(':checked')) {
                        loaiPhong.push('VIP')
                    }
                    if($('#thuong').is(':checked')) {
                        loaiPhong.push('thuong')
                    }
                    const name = $('#name').val();
                    const phone = $('#phone').val();
                    const day = $('#day').val()
                    const time = $('#time').val()
                    const people = $('#people').val()
                    const loaiTiec = $('#loaiTiec').val();
                    
                    const card = `
                                <tr>
                                    <td>${++i}</td>
                                    <td>${name}</td>
                                    <td>${phone}</td>
                                    <td>${day}</td>
                                    <td>${time}</td>
                                    <td>${people}</td>
                                    <td>${loaiTiec}</td>
                                    <td>${loaiPhong}</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                
                            `  
                    $('#tbody').append(card)
                    return true
                }
            }
            $('#btn-save').click(valid)
            
            
        })
    </script>
</head>
<body>
    <div class="container">
        <div class="header">
            <img src="../img/Capture.PNG" width="100%" alt="">
            <nav class="navbar navbar-expand">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="">Trang chu</a></li>
                    <li class="nav-item"><a class="nav-link" href="">To chuc</a></li>
                    <li class="nav-item dropdown" >
                        <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="">Dang ky dat cho</a>
                        <ul class="dropdown-menu">
                            <li class="dropdown-item" id="openModal">Form dat cho</li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </div>
        <div class="body">
            <div class="row">
                <div class="col-9">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>STT</th>
                                <th>Ho ten</th>
                                <th>Dien thoai</th>
                                <th>Ngay nhan tiec</th>
                                <th>Gio nhan tiec</th>
                                <th>So nguoi</th>
                                <th>Loai tiec</th>
                                <th>Loai phong</th>
                                <th>Thanh vien</th>
                                <th>Dich vu di kem</th>
                                <th>Ghi chu</th>
                            </tr>
                        </thead>
                        <tbody id="tbody">
                            
                        </tbody>
                    </table>
                </div>
                <div class="col-3">
                    <h2 class="text-danger">Dat cho</h1>
                    <table class="table text-danger">
                        <tr>
                            <td>Nhom gia dinh</td>
                        </tr>
                        <tr>
                            <td>Tiec sinh nhat</td>
                        </tr>
                        <tr class="border-bottom">
                            <td>nhom van phong</td>
                        </tr>
                    </table>
                    <h2 class="text-danger">Contact</h2>
                    <p>Goi toi 0123456-De dat cho va duoc tu van <br> Dia chi 13 tran binh trong Quang 1</p>
                    <h2 class="text-danger">Bai viet noi bat</h2>
                    <ol>
                        <li>Kinh nghiem </li>
                        <li>Dac san</li>
                        <li>Van hoa</li>
                    </ol>
                </div>
            </div>
        </div>
        <div class="footer">
            <footer class="text-danger">Food right</footer>
        </div>
    </div>

    <!-- modal -->
    <div class="modal" id="myModal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    Thong tin dat tiec
                </div>
                <div class="modal-body">
                    <div>
                        <label for="">Ho ten nguoi dat tiec</label>
                        <span class="text-danger" id="e_name">*</span>
                        <input type="text" placeholder="Ho ten" class="form-control" id="name">
                    </div>
                    <div>
                        <label for="">Dien thoai lien he:</label>
                        <span class="text-danger" id="e_phone">*</span>
                        <input type="text" placeholder="Dien thoai" class="form-control" id="phone">
                    </div>
                    <div>
                        <label for="">Ngay nhan tiec</label>
                        <span id="e_day" class="text-danger">*</span>
                        <input id="day" type="date" class="form-control">
                    </div>
                    <div>
                        <label for="">Gio nhan tiec</label>
                        <span class="text-danger">*</span>
                        <input id="time" type="time" class="form-control">
                    </div>
                    <div>
                        <label for="">So nguoi</label>
                        <span class="text-danger" id="e_people">*</span>
                        <input type="text" class="form-control" id="people">
                    </div>
                    <div>
                        <label for="">Loai tiec</label>
                        <span class="text-danger">*</span>
                        <select name="" id="loaiTiec" class="form-control">
                            <option value="Set menu">Set menu</option>
                            <option value="Buffet">Buffet</option>
                            <option value="Food">Food</option>
                        </select>
                    </div>
                    <div>
                        <label for="">Loai phong</label>
                        <span class="text-danger">*</span>
                        <input id="vip" name="chon" type="radio"> VIP
                        <input id="thuong" name="chon" type="radio"> Thuong
                    </div>
                    <div>
                        <label for="">Dich vu di kem</label>
                        <input  type="checkbox"> <label for="">Nhan vien phuc vu rieng</label>
                        <input type="checkbox"> <label for="">Hoa tuoi</label>
                    </div>
                    <div>
                        <label for="">Thanh vien:</label>
                        <input type="checkbox"> <i>neu ban la thanh vien cua quan</i>
                    </div>
                    <div>
                        <label for="">Ghi chu</label>
                        <textarea name="" id="" cols="30" rows="10" placeholder="Khong gian thoang mat" class="form-control"></textarea>
                    </div>
                    <button class="btn btn-block" id="btn-save" onclick="valid()">Luu</button>
                </div>
                <div class="modal-footer">
                    Hotline: 098765443
                </div>
                        </div>
            </div>
    </div>
</body>
</html>